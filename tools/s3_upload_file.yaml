identity:
  name: s3_upload_file
  author: datoujiejie
  label:
    en_US: Upload files via s3
    zh_Hans: 通过s3上传文件
description:
  human:
    en_US: Upload files via s3
    zh_Hans: 通过s3上传文件
  llm: Upload files via s3
parameters:
  - name: file
    type: file
    required: true
    label:
      en_US: File
      zh_Hans: 文件
    human_description:
      en_US: File to upload
      zh_Hans: 要上传的文件
    llm_description: File to upload
    form: llm
  - name: s3_key
    type: string
    required: false
    label:
      en_US: S3 Object key
      zh_Hans: s3对象key
    human_description:
      en_US: S3 Object key
      zh_Hans: s3对象key
    llm_description: S3 Object key
    form: llm
  - name: filename
    type: string
    required: false
    label:
      en_US: Filename (alternative key)
      zh_Hans: 文件名（备用 key）
    human_description:
      en_US: If s3_key not provided, this filename is used as the object key
      zh_Hans: 若未提供 s3_key，将使用该文件名作为对象 key
    llm_description: Optional filename used when s3_key absent
    form: llm
  - name: generate_presigned_url
    type: boolean
    required: false
    label:
      en_US: Generate Presigned URL
      zh_Hans: 生成预签名链接
    human_description:
      en_US: If true, append a presigned URL for the uploaded object
      zh_Hans: 若为 true，将附加已上传对象的预签名链接
    llm_description: Set true to also output a presigned URL
    form: llm
  - name: presigned_expiration
    type: number
    required: false
    label:
      en_US: Presigned URL Expiration (seconds)
      zh_Hans: 预签名链接过期时间（秒）
    human_description:
      en_US: Expiration seconds for presigned URL (default 3600)
      zh_Hans: 预签名链接过期时间（默认 3600 秒）
    llm_description: Presigned URL expiration seconds
    form: llm
extra:
  python:
    source: tools/s3_upload_file.py
